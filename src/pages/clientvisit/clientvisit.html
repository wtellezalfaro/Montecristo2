<!--
  Generated template for the ClientvisitPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Visita a Cliente/Pedido</ion-title>
    <ion-buttons end>

      <button ion-button icon-only>
        <ion-icon name="cart"></ion-icon>
        <ion-badge color="danger"
                   class="carrito-numero" >{{ shoppingcartService.items.length }}
        </ion-badge>
      </button>

      &nbsp;
      &nbsp;

    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <h2>Registro de Visita</h2>
  <p>
    
  </p>
  <agm-map [latitude]="lat" [longitude]="lng" [zoom]="15">
    <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
  </agm-map>
  <ion-list>
    <ion-item>     
      <ion-input type="text" value="" placeholder="Nombres" [(ngModel)]="this.FirstName"></ion-input>
    </ion-item> 
    <ion-item>     
      <ion-input type="text" value="" placeholder="Apellidos" [(ngModel)]="this.LastName"></ion-input>
    </ion-item>
    <ion-item>     
      <ion-input type="text" value="" placeholder="Razón Social/Nombre Comercial" [(ngModel)]="this.LegalName"></ion-input>
    </ion-item>
    <ion-item> 
      <ion-input type="text" value="" placeholder="Dirección" [(ngModel)]="this.Address"></ion-input>
    </ion-item> 
    <ion-item> 
      <ion-input type="text" value="" placeholder="Teléfono Fijo" [(ngModel)]="this.Phone"></ion-input>
    </ion-item> 
    <ion-item> 
      <ion-input type="text" value="" placeholder="Celular" [(ngModel)]="this.Mobile"></ion-input>
    </ion-item>
    <ion-item> 
      <ion-input type="email" value="" placeholder="Email" [(ngModel)]="this.Email"></ion-input>
    </ion-item>
    <ion-item> 
      <ion-input type="text" value="" placeholder="Observaciones Cliente" [(ngModel)]="this.ClientObservation"></ion-input>
    </ion-item>
    <ion-item> 
      <ion-input type="text" value="" placeholder="Observaciones Visita" [(ngModel)]="this.VisitObservation"></ion-input>
    </ion-item>
    <ion-item> 
      <ion-datetime displayFormat="DD/MM/YYYY" placeholder="Fecha Proxima Visita" [(ngModel)]="this.NextVisitDate"></ion-datetime>
    </ion-item>
    <ion-item> 
      <ion-input type="text" value="" placeholder="Observaciones Proxima Visita" [(ngModel)]="this.NextVisitObservation"></ion-input>
    </ion-item>
  </ion-list>
  <hr>
  
  <h2>Pedido</h2>
  <button ion-button full [navPush]="pushPage">+</button>
  <ion-datetime displayFormat="DD/MM/YYYY" placeholder="Fecha Entrega Pedido" [(ngModel)]="this.OrderDeliveryDate"></ion-datetime>
  <ion-grid>
    <ion-row *ngFor="let item of shoppingcartService.items; let i = index;">
      <ion-col >
        <p>{{ item.ProductId }}</p>
      </ion-col>
      <ion-col col-6>
        <p>{{ item.ProductName }}</p>
      </ion-col>
      <ion-col>
        <p>{{ item.ProductQuantity }}</p>
      </ion-col>
      <ion-col>        
          <ion-input type="text" value="" placeholder="Precio" [(ngModel)]="this.item.ProductSalePrice"></ion-input>        
      </ion-col>
      <ion-col>
        <button ion-button
                color="danger"
                outline
                block
                small
                (click)="shoppingcartService.RemoveItem(i)">
          X
        </button>
        <button ion-button
                color="primary"
                outline
                block
                small
                (click)="shoppingcartService.AddExistingItem(i)">
          +
        </button>
      </ion-col>
    </ion-row>
  </ion-grid>

  <button ion-button full (click)="Save()">Guardar</button>
</ion-content>
